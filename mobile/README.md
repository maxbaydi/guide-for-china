# HanGuide Mobile App

–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ HanGuide - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–∏—Ç–∞–π—Å–∫–æ-—Ä—É—Å—Å–∫–∏–π —Å–ª–æ–≤–∞—Ä—å —Å –≥–ª—É–±–æ–∫–∏–º –∞–Ω–∞–ª–∏–∑–æ–º –∏–µ—Ä–æ–≥–ª–∏—Ñ–æ–≤.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Expo SDK 54+** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è React Native
- **Expo Router** - —Ñ–∞–π–ª–æ–≤–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- **Gluestack UI v2** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **Apollo Client** - GraphQL –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å User Service
- **TanStack Query** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è REST API
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è Dictionary API
- **i18next** - –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (—Ä—É—Å—Å–∫–∏–π –∏ –∫–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫–∏)
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mobile/
‚îú‚îÄ‚îÄ app/                         # Expo Router screens
‚îÇ   ‚îú‚îÄ‚îÄ (auth)/                 # –≠–∫—Ä–∞–Ω—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register.tsx
‚îÇ   ‚îú‚îÄ‚îÄ (tabs)/                 # –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search.tsx          # –ü–æ–∏—Å–∫ –∏–µ—Ä–æ–≥–ª–∏—Ñ–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyze.tsx         # –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collections.tsx     # –ö–æ–ª–ª–µ–∫—Ü–∏–∏ —Å–ª–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile.tsx         # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ character/[id].tsx      # –î–µ—Ç–∞–ª–∏ –∏–µ—Ä–æ–≥–ª–∏—Ñ–∞
‚îÇ   ‚îú‚îÄ‚îÄ collection/[id].tsx     # –î–µ—Ç–∞–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ analyze/results.tsx     # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx             # Root layout —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ index.tsx               # –ö–æ—Ä–Ω–µ–≤–æ–π —Ä–æ—É—Ç–∏–Ω–≥
‚îú‚îÄ‚îÄ components/                  # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ constants/                   # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Colors.ts               # –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ config.ts               # API endpoints –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ hooks/                       # Custom hooks
‚îÇ   ‚îî‚îÄ‚îÄ useAuth.tsx             # Auth context –∏ hook
‚îú‚îÄ‚îÄ locales/                     # –ü–µ—Ä–µ–≤–æ–¥—ã i18n
‚îÇ   ‚îú‚îÄ‚îÄ ru/common.json          # –†—É—Å—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
‚îÇ   ‚îî‚îÄ‚îÄ zh/common.json          # –ö–∏—Ç–∞–π—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
‚îú‚îÄ‚îÄ services/                    # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ api.ts                  # Axios instance —Å interceptors
‚îÇ   ‚îú‚îÄ‚îÄ apollo.ts               # Apollo Client –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ i18n.ts                 # i18n –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ types/                       # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ api.types.ts            # API —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ gluestack-ui.config.ts      # –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è Gluestack UI

```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 20+
- npm 10+
- Expo CLI
- iOS Simulator (–¥–ª—è macOS) –∏–ª–∏ Android Emulator

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd mobile
npm install
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å–∫ Expo dev server
npm start

# –ó–∞–ø—É—Å–∫ –Ω–∞ iOS —Å–∏–º—É–ª—è—Ç–æ—Ä–µ
npm run ios

# –ó–∞–ø—É—Å–∫ –Ω–∞ Android —ç–º—É–ª—è—Ç–æ—Ä–µ
npm run android

# –ó–∞–ø—É—Å–∫ –≤–µ–±-–≤–µ—Ä—Å–∏–∏
npm run web
```

### –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞

```bash
npm run reset
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API

API endpoints –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `constants/config.ts`:

```typescript
export const API_CONFIG = {
  BASE_URL: getApiUrl(),        // REST API (Dictionary, Auth)
  GRAPHQL_URL: getGraphQLUrl(), // GraphQL API (User Service)
};
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- **iOS Simulator**: `http://localhost:4000/api/v1`
- **Android Emulator**: `http://10.0.2.2:4000/api/v1`
- **Production**: `https://api.hanguide.com/api/v1`

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ email/–ø–∞—Ä–æ–ª—é
  - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
  - Auto-refresh JWT —Ç–æ–∫–µ–Ω–æ–≤
  - Secure storage –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤

- **–ü–æ–∏—Å–∫ –∏–µ—Ä–æ–≥–ª–∏—Ñ–æ–≤**
  - –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ —Å debounce
  - –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞ (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è)
  - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∫ –¥–µ—Ç–∞–ª—è–º

- **–î–µ—Ç–∞–ª–∏ –∏–µ—Ä–æ–≥–ª–∏—Ñ–∞**
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–≥–æ –∏ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è
  - –ü–∏–Ω—å–∏–Ω—å —Å —Ç–æ–Ω–∞–º–∏
  - –†–∞–¥–∏–∫–∞–ª, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ—Ä—Ç, HSK —É—Ä–æ–≤–µ–Ω—å
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

- **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞**
  - –†–∞–∑–±–æ—Ä –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∏–µ—Ä–æ–≥–ª–∏—Ñ—ã
  - –ü–µ—Ä–µ–≤–æ–¥ –∫–∞–∂–¥–æ–≥–æ –∏–µ—Ä–æ–≥–ª–∏—Ñ–∞
  - –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ –¥–µ—Ç–∞–ª—è–º –∏–µ—Ä–æ–≥–ª–∏—Ñ–∞

- **–ö–æ–ª–ª–µ–∫—Ü–∏–∏ —Å–ª–æ–≤**
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–π —á–µ—Ä–µ–∑ GraphQL
  - –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ –¥–µ—Ç–∞–ª—è–º –∫–æ–ª–ª–µ–∫—Ü–∏–∏
  - –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

- **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Å–ª–æ–≤ –∏–∑—É—á–µ–Ω–æ, –ø–æ–∏—Å–∫–æ–≤, –º–∏–Ω—É—Ç)
  - –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏
  - –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

- **i18n**
  - –†—É—Å—Å–∫–∏–π —è–∑—ã–∫
  - –ö–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫
  - –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–µ—Ä–æ–≥–ª–∏—Ñ–æ–≤ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –ê—É–¥–∏–æ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ –∏–µ—Ä–æ–≥–ª–∏—Ñ–æ–≤
- –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è "–°–ª–æ–≤–æ –¥–Ω—è"

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ü–≤–µ—Ç–æ–≤—É—é –ø–∞–ª–∏—Ç—Ä—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∏–∑–∞–π–Ω–∞ HanGuide:

- **Primary** (#E53935) - –∫—Ä–∞—Å–Ω—ã–π, –æ—Å–Ω–æ–≤–Ω–æ–π –∞–∫—Ü–µ–Ω—Ç
- **Secondary** (#1DB954) - –∑–µ–ª–µ–Ω—ã–π, –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —É—Å–ø–µ—Ö
- **Background** (#F7F7F7) - —Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π —Ñ–æ–Ω
- **Text** (#2D2D2D) - —Ç–µ–º–Ω—ã–π —Ç–µ–∫—Å—Ç
- **TextLight** (#6B7280) - —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ç—Ä–µ–º—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏:

1. **API Gateway** (REST) - `http://localhost:4000/api/v1`
   - `/auth/*` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
   - `/dictionary/*` - –ø–æ–∏—Å–∫ –∏ –¥–µ—Ç–∞–ª–∏ –∏–µ—Ä–æ–≥–ª–∏—Ñ–æ–≤

2. **User Service** (GraphQL) - `http://localhost:4002/graphql`
   - `myStatistics` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `myCollections` - –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

3. **Dictionary Service** (—á–µ—Ä–µ–∑ API Gateway)
   - –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ —Å pg_jieba
   - –ê–Ω–∞–ª–∏–∑ –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

## –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - All rights reserved

## –ê–≤—Ç–æ—Ä

HanGuide Team

